<?xml version = '1.0' encoding = 'ISO-8859-1' ?>
<project name = 'uml2cs-instantmessenger-maemo/build' default = 'all'>
  <import file = 'common.xml'/>
  <property name = 'current.uri' value = 'platform:/resource/${ant.project.name}'/>
  <property name = 'saveLastModel' value = 'true'/>
  <!--target name = 'all' depends="allBase"--><target name = 'all' depends = 'InstantMessengerModel, LocalNetwork, JabberNetwork, DefaultJabberTransport, SWTUserInterface, prettyPrint'>
    <!--parallel threadsperprocessor="1">
    	<antcall target="InstantMessengerModel" inheritrefs="true" />
    	<antcall target="LocalNetwork" inheritrefs="true" />
    	<antcall target="JabberNetwork" inheritrefs="true" />
    	<antcall target="DefaultJabberTransport" inheritrefs="true" />
    	<antcall target="SWTUserInterface" inheritrefs="true" />
    </parallel>
	<antcall target="prettyPrint" inheritrefs="true" /-->
  	<eclipse.refreshLocal resource = '${ant.project.name}'/>
  </target>
  <target name = 'all-feedback' depends = 'InstantMessengerModel-feedback, LocalNetwork-feedback, JabberNetwork-feedback, DefaultJabberTransport-feedback, SWTUserInterface-feedback'>
    <eclipse.refreshLocal resource = 'platform:/resource/uml2cs-instantmessenger-model/models'/>
  </target>
  <target name = 'InstantMessengerModel' depends = 'allBase'>
    <atl.loadModel modelHandler = 'UML2' name = 'inModel' metamodel = 'UML2' uri = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerModel.uml'/>
    <antcall target = 'generate' inheritRefs = 'true'>
      <param name = 'in' value = 'inModel'/>
      <param name = 'prefix' value = 'im'/>
    </antcall>
  </target>
  <target name = 'InstantMessengerModel-feedback' depends = 'defineProperties, loadBaseModels, loadJAVA'>
    <atl.loadModel modelHandler = 'UML2' name = 'inModel' metamodel = 'UML2' uri = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerModel.uml'/>
    <atl.loadModel modelHandler = 'EMF' name = 'inModelCode' metamodel = 'JAVA' path = '../uml2cs-instantmessenger-maemo.javaast'/>
    <antcall target = 'java2uml' inheritRefs = 'true'>
      <param name = 'in' value = 'inModel'/>
      <param name = 'code' value = 'inModelCode'/>
      <param name = 'uri' value = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerModel.uml'/>
    </antcall>
  </target>
  <property name = 'java2' value = 'true'/>
  <property name = 'javaobserver' value = 'true'/>
  <property name = 'swt-application' value = 'true'/>
  <target name = 'LocalNetwork' depends = 'allBase'>
    <atl.loadModel modelHandler = 'UML2' name = 'Local' metamodel = 'UML2' uri = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerLocal.uml'/>
    <antcall target = 'generate' inheritRefs = 'true'>
      <param name = 'in' value = 'Local'/>
      <param name = 'prefix' value = 'local'/>
    </antcall>
  </target>
  <target name = 'LocalNetwork-feedback' depends = 'defineProperties, loadBaseModels, loadJAVA'>
    <atl.loadModel modelHandler = 'UML2' name = 'Local' metamodel = 'UML2' uri = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerLocal.uml'/>
    <atl.loadModel modelHandler = 'EMF' name = 'LocalCode' metamodel = 'JAVA' path = '../uml2cs-instantmessenger-maemo.javaast'/>
    <antcall target = 'java2uml' inheritRefs = 'true'>
      <param name = 'in' value = 'Local'/>
      <param name = 'code' value = 'LocalCode'/>
      <param name = 'uri' value = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerLocal.uml'/>
    </antcall>
  </target>
  <target name = 'JabberNetwork' depends = 'allBase'>
    <atl.loadModel modelHandler = 'UML2' name = 'Jabber' metamodel = 'UML2' uri = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerJabber.uml'/>
    <antcall target = 'generate' inheritRefs = 'true'>
      <param name = 'in' value = 'Jabber'/>
      <param name = 'prefix' value = 'jabber'/>
    </antcall>
  </target>
  <target name = 'JabberNetwork-feedback' depends = 'defineProperties, loadBaseModels, loadJAVA'>
    <atl.loadModel modelHandler = 'UML2' name = 'Jabber' metamodel = 'UML2' uri = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerJabber.uml'/>
    <atl.loadModel modelHandler = 'EMF' name = 'JabberCode' metamodel = 'JAVA' path = '../uml2cs-instantmessenger-maemo.javaast'/>
    <antcall target = 'java2uml' inheritRefs = 'true'>
      <param name = 'in' value = 'Jabber'/>
      <param name = 'code' value = 'JabberCode'/>
      <param name = 'uri' value = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerJabber.uml'/>
    </antcall>
  </target>
  <target name = 'DefaultJabberTransport' depends = 'allBase'>
    <atl.loadModel modelHandler = 'UML2' name = 'DefaultJabber' metamodel = 'UML2' uri = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerDefaultJabber.uml'/>
    <antcall target = 'generate' inheritRefs = 'true'>
      <param name = 'in' value = 'DefaultJabber'/>
      <param name = 'prefix' value = 'defaultjabber'/>
    </antcall>
  </target>
  <target name = 'DefaultJabberTransport-feedback' depends = 'defineProperties, loadBaseModels, loadJAVA'>
    <atl.loadModel modelHandler = 'UML2' name = 'DefaultJabber' metamodel = 'UML2' uri = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerDefaultJabber.uml'/>
    <atl.loadModel modelHandler = 'EMF' name = 'DefaultJabberCode' metamodel = 'JAVA' path = '../uml2cs-instantmessenger-maemo.javaast'/>
    <antcall target = 'java2uml' inheritRefs = 'true'>
      <param name = 'in' value = 'DefaultJabber'/>
      <param name = 'code' value = 'DefaultJabberCode'/>
      <param name = 'uri' value = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerDefaultJabber.uml'/>
    </antcall>
  </target>
  <target name = 'SWTUserInterface' depends = 'allBase'>
    <atl.loadModel modelHandler = 'UML2' name = 'SWT' metamodel = 'UML2' uri = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerSWT.uml'/>
    <antcall target = 'generate' inheritRefs = 'true'>
      <param name = 'in' value = 'SWT'/>
      <param name = 'prefix' value = 'swt'/>
    </antcall>
  </target>
  <target name = 'SWTUserInterface-feedback' depends = 'defineProperties, loadBaseModels, loadJAVA'>
    <atl.loadModel modelHandler = 'UML2' name = 'SWT' metamodel = 'UML2' uri = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerSWT.uml'/>
    <atl.loadModel modelHandler = 'EMF' name = 'SWTCode' metamodel = 'JAVA' path = '../uml2cs-instantmessenger-maemo.javaast'/>
    <antcall target = 'java2uml' inheritRefs = 'true'>
      <param name = 'in' value = 'SWT'/>
      <param name = 'code' value = 'SWTCode'/>
      <param name = 'uri' value = 'platform:/resource/uml2cs-instantmessenger-model/models/InstantMessengerSWT.uml'/>
    </antcall>
  </target>
</project>
